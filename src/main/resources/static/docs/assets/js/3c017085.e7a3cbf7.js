"use strict";(self.webpackChunkclias_docs=self.webpackChunkclias_docs||[]).push([[1032],{2174:(e,d,i)=>{i.r(d),i.d(d,{assets:()=>l,contentTitle:()=>t,default:()=>x,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"dev/frontend_web/endpoints","title":"Frontend Web - Endpoints Principales","description":"---","source":"@site/docs/dev/frontend_web/endpoints.md","sourceDirName":"dev/frontend_web","slug":"/dev/frontend_web/endpoints","permalink":"/docs/dev/frontend_web/endpoints","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Frontend Web - Endpoints Principales","sidebar_label":"Endpoints Principales","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Estructura del Proyecto","permalink":"/docs/dev/frontend_web/structure"},"next":{"title":"Configuraci\xf3n de Entorno","permalink":"/docs/dev/frontend_web/enviroment_configuration"}}');var n=i(4848),c=i(8453);const r={title:"Frontend Web - Endpoints Principales",sidebar_label:"Endpoints Principales",sidebar_position:3},t=void 0,l={},o=[{value:"Leyenda de autenticaci\xf3n (Auth)",id:"leyenda-de-autenticaci\xf3n-auth",level:2},{value:"Autenticaci\xf3n",id:"autenticaci\xf3n",level:2},{value:"Usuarios y M\xe9dicos (ADMIN)",id:"usuarios-y-m\xe9dicos-admin",level:2},{value:"Estado de dispositivos (ADMIN)",id:"estado-de-dispositivos-admin",level:2},{value:"C\xf3digos QR (ADMIN)",id:"c\xf3digos-qr-admin",level:2},{value:"Ubicaciones (ADMIN)",id:"ubicaciones-admin",level:2},{value:"M\xf3dulo m\xe9dico (DOCTOR)",id:"m\xf3dulo-m\xe9dico-doctor",level:2},{value:"Pacientes y dispositivos",id:"pacientes-y-dispositivos",level:2}];function h(e){const d={code:"code",h2:"h2",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.hr,{}),"\n",(0,n.jsxs)(d.p,{children:["El proyecto ",(0,n.jsx)(d.strong,{children:"IA - VPH"})," utiliza un ",(0,n.jsx)(d.strong,{children:"backend en Spring Boot"})," que expone endpoints REST para usuarios administradores y m\xe9dicos.\nEl ",(0,n.jsx)(d.strong,{children:"frontend web (Flutter)"})," consume estos servicios a trav\xe9s de ",(0,n.jsx)(d.code,{children:"ApiService"}),", ",(0,n.jsx)(d.code,{children:"AuthService"})," y ",(0,n.jsx)(d.code,{children:"UbicacionService"}),"."]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"leyenda-de-autenticaci\xf3n-auth",children:"Leyenda de autenticaci\xf3n (Auth)"}),"\n",(0,n.jsxs)(d.p,{children:["En las tablas de endpoints se utiliza la columna ",(0,n.jsx)(d.strong,{children:"Auth"})," para indicar los requisitos de autenticaci\xf3n y permisos:"]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"\u2716\ufe0f"})," \u2192 No requiere autenticaci\xf3n (p\xfablico)."]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"\u2714\ufe0f"})," \u2192 Requiere autenticaci\xf3n con token v\xe1lido (JWT)."]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"\u25b3"})," \u2192 Acceso restringido seg\xfan el rol del usuario:","\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"ADMIN"})," \u2192 Acceso completo."]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"DOCTOR"})," \u2192 Acceso limitado a funciones m\xe9dicas."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"autenticaci\xf3n",children:"Autenticaci\xf3n"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Body"}),(0,n.jsx)(d.th,{children:"Respuesta"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsx)(d.tbody,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/auth/login"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:'{ "usuario": string, "contrasena": string }'})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"{ publicId, nombre, usuario, role }"})}),(0,n.jsx)(d.td,{children:"\u2716\ufe0f"})]})})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"usuarios-y-m\xe9dicos-admin",children:"Usuarios y M\xe9dicos (ADMIN)"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Body"}),(0,n.jsx)(d.th,{children:"Respuesta"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/users"})}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:"Lista de administradores"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/users"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"{ nombre, usuario, contrasena }"})}),(0,n.jsx)(d.td,{children:"Crea ADMIN"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"PUT"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/users/{id}"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"{ nombre, usuario, contrasena }"})}),(0,n.jsx)(d.td,{children:"Actualiza ADMIN"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"DELETE"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/users/{id}"})}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:"Elimina ADMIN"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/medicos"})}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:"Lista de m\xe9dicos"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/medicos"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"{ usuario, contrasena, nombre, correo, especializacion?, sexo, n_registro }"})}),(0,n.jsx)(d.td,{children:"Crea DOCTOR"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"PUT"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/medicos/{id}"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"{ usuario, contrasena, nombre, correo, especializacion?, sexo, n_registro }"})}),(0,n.jsx)(d.td,{children:"Actualiza DOCTOR"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"DELETE"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/medicos/{id}"})}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:"Elimina DOCTOR"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]})]})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"estado-de-dispositivos-admin",children:"Estado de dispositivos (ADMIN)"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Params"}),(0,n.jsx)(d.th,{children:"Respuesta"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsx)(d.tbody,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/estado-dispositivos"})}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"page"}),", ",(0,n.jsx)(d.code,{children:"size"}),", ",(0,n.jsx)(d.code,{children:"fechaInicio?"}),", ",(0,n.jsx)(d.code,{children:"fechaFin?"})]}),(0,n.jsx)(d.td,{children:"P\xe1gina con lista de dispositivos (c\xf3digo, estado, fechas)"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]})})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"c\xf3digos-qr-admin",children:"C\xf3digos QR (ADMIN)"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Body / Params"}),(0,n.jsx)(d.th,{children:"Respuesta"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/codigosqr"})}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"codigo"}),", ",(0,n.jsx)(d.code,{children:"fechaExpiracion"})]}),(0,n.jsx)(d.td,{children:"Confirma creaci\xf3n"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f/\u25b3"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/codigosqr"})}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"status?"})," = ",(0,n.jsx)(d.code,{children:"todos | registrado | resultado_listo"})]}),(0,n.jsx)(d.td,{children:"Lista de c\xf3digos QR y estados"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f/\u25b3"})]})]})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"ubicaciones-admin",children:"Ubicaciones (ADMIN)"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Descripci\xf3n"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/ubicaciones"})}),(0,n.jsx)(d.td,{children:"Lista todas las ubicaciones (servicios de salud, protecci\xf3n, psicolog\xeda)"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/ubicaciones"})}),(0,n.jsx)(d.td,{children:"Crear nueva ubicaci\xf3n"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"PUT"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/ubicaciones/{id}"})}),(0,n.jsx)(d.td,{children:"Editar ubicaci\xf3n existente"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"DELETE"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/ubicaciones/{id}"})}),(0,n.jsx)(d.td,{children:"Eliminar ubicaci\xf3n"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/ubicaciones/upload-csv"})}),(0,n.jsx)(d.td,{children:"Carga masiva de ubicaciones v\xeda CSV"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]})]})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"m\xf3dulo-m\xe9dico-doctor",children:"M\xf3dulo m\xe9dico (DOCTOR)"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Descripci\xf3n"}),(0,n.jsx)(d.th,{children:"Body / Params"}),(0,n.jsx)(d.th,{children:"Respuesta"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/prueba/medico/prefixes"})}),(0,n.jsx)(d.td,{children:"Lista de prefijos v\xe1lidos"}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string[]"})}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f/\u25b3"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/prueba/medico/nombre/{codigo}"})}),(0,n.jsx)(d.td,{children:"Nombre de paciente asociado a dispositivo"}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f/\u25b3"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"POST"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/prueba/medico/subir"})}),(0,n.jsx)(d.td,{children:"Subir resultado"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"multipart file + datos de dispositivo, diagn\xf3stico y genotipos"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"200 OK"})}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f/\u25b3"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"PATCH"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/prueba/medico/clear-fields/{codigo}"})}),(0,n.jsx)(d.td,{children:"Limpia diagn\xf3stico y archivo asociados"}),(0,n.jsx)(d.td,{children:"\u2014"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"200 OK"})}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]})]})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h2,{id:"pacientes-y-dispositivos",children:"Pacientes y dispositivos"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"M\xe9todo"}),(0,n.jsx)(d.th,{children:"Endpoint"}),(0,n.jsx)(d.th,{children:"Respuesta"}),(0,n.jsx)(d.th,{children:"Auth"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/dispositivos_registrados/{codigo}"})}),(0,n.jsx)(d.td,{children:"Paciente vinculado a un dispositivo"}),(0,n.jsx)(d.td,{children:"\u2716\ufe0f/\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/paciente/usuario/{publicId}"})}),(0,n.jsxs)(d.td,{children:["Informaci\xf3n de paciente por ",(0,n.jsx)(d.code,{children:"publicId"})]}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"GET"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"/api/patients/{patientId}/results"})}),(0,n.jsx)(d.td,{children:"Lista de resultados asociados a paciente"}),(0,n.jsx)(d.td,{children:"\u2714\ufe0f"})]})]})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsxs)(d.p,{children:["Algunos endpoints (",(0,n.jsx)(d.strong,{children:"/prueba/medico/"}),", ",(0,n.jsx)(d.strong,{children:"/api/codigosqr"}),", ",(0,n.jsx)(d.strong,{children:"/api/dispositivos_registrados/"}),") pueden estar accesibles sin token JWT en ciertos despliegues, pero la recomendaci\xf3n es asegurar todos con roles ADMIN o DOCTOR."]})]})}function x(e={}){const{wrapper:d}={...(0,c.R)(),...e.components};return d?(0,n.jsx)(d,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,d,i)=>{i.d(d,{R:()=>r,x:()=>t});var s=i(6540);const n={},c=s.createContext(n);function r(e){const d=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function t(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(c.Provider,{value:d},e.children)}}}]);