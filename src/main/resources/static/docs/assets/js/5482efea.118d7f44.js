"use strict";(self.webpackChunkclias_docs=self.webpackChunkclias_docs||[]).push([[7045],{8265:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"dev/frontend_app/configuracion_despliegue","title":"App M\xf3vil SISA - Configuraci\xf3n y Despliegue","description":"Esta gu\xeda explica c\xf3mo configurar, compilar y desplegar la app m\xf3vil SISA (Flutter/Dart) enfocada en Android.","source":"@site/docs/dev/frontend_app/configuracion_despliegue.md","sourceDirName":"dev/frontend_app","slug":"/dev/frontend_app/configuracion_despliegue","permalink":"/docs/dev/frontend_app/configuracion_despliegue","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"App M\xf3vil SISA - Configuraci\xf3n y Despliegue","sidebar_label":"Configuraci\xf3n y Despliegue","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Notificaciones Push","permalink":"/docs/dev/frontend_app/notificaciones_push"},"next":{"title":"Introducci\xf3n","permalink":"/docs/dev/frontend_web/description"}}');var r=i(4848),l=i(8453);const a={title:"App M\xf3vil SISA - Configuraci\xf3n y Despliegue",sidebar_label:"Configuraci\xf3n y Despliegue",sidebar_position:6},d="Configuraci\xf3n y Despliegue",c={},o=[{value:"Requisitos previos",id:"requisitos-previos",level:2},{value:"Ejecuci\xf3n local",id:"ejecuci\xf3n-local",level:2},{value:"Configuraci\xf3n del backend en la app",id:"configuraci\xf3n-del-backend-en-la-app",level:2},{value:"Variables de entorno y credenciales",id:"variables-de-entorno-y-credenciales",level:2},{value:"Compilaci\xf3n y empaquetado (Android)",id:"compilaci\xf3n-y-empaquetado-android",level:2},{value:"Debug r\xe1pido",id:"debug-r\xe1pido",level:3},{value:"APK <em>release</em>",id:"apk-release",level:3},{value:"Firma y publicaci\xf3n (resumen)",id:"firma-y-publicaci\xf3n-resumen",level:3},{value:"Checklist de despliegue",id:"checklist-de-despliegue",level:2},{value:"Notas",id:"notas",level:2}];function t(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuraci\xf3n-y-despliegue",children:"Configuraci\xf3n y Despliegue"})}),"\n",(0,r.jsxs)(n.p,{children:["Esta gu\xeda explica c\xf3mo ",(0,r.jsx)(n.strong,{children:"configurar, compilar y desplegar"})," la app m\xf3vil ",(0,r.jsx)(n.strong,{children:"SISA"})," (Flutter/Dart) enfocada en ",(0,r.jsx)(n.strong,{children:"Android"}),".",(0,r.jsx)(n.br,{}),"\n","El desarrollo se realiza preferentemente en ",(0,r.jsx)(n.strong,{children:"Visual Studio Code (VS Code)"}),"; ",(0,r.jsx)(n.strong,{children:"Android Studio"})," se usa como emulador y para gestionar ",(0,r.jsx)(n.em,{children:"SDKs"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"requisitos-previos",children:"Requisitos previos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flutter SDK"})," instalado y en ",(0,r.jsx)(n.em,{children:"PATH"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dart SDK"})," (incluido en Flutter)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Git 2.40+"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VS Code"})," (IDE recomendado)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Android Studio"})," (\xfanicamente para emuladores/SDK Manager)"]}),"\n",(0,r.jsxs)(n.li,{children:["Accesos y artefactos:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"URL del backend"})," (desarrollo / producci\xf3n)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Firebase (FCM)"}),": archivo ",(0,r.jsx)(n.code,{children:"google-services.json"})," para Android (si aplica)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verificar entorno"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter doctor -v\nflutter --version\nflutter devices\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"ejecuci\xf3n-local",children:"Ejecuci\xf3n local"}),"\n",(0,r.jsx)(n.p,{children:"Clona el repositorio y prepara dependencias:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/chr1s23/TelemedicinaApp.git\ncd TelemedicinaApp\nflutter pub get\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Selecciona un dispositivo desde ",(0,r.jsx)(n.strong,{children:"VS Code"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Abre la paleta con ",(0,r.jsx)(n.code,{children:"Ctrl + Shift + P"})," \u2192 ",(0,r.jsx)(n.strong,{children:"Flutter: Select Device"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Elige emulador Android (creado en Android Studio) o dispositivo f\xedsico por USB."}),"\n",(0,r.jsx)(n.li,{children:"Ejecuta:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter run\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuraci\xf3n-del-backend-en-la-app",children:"Configuraci\xf3n del backend en la app"}),"\n",(0,r.jsxs)(n.p,{children:["La app SISA usa un archivo central ",(0,r.jsx)(n.code,{children:"lib/config/env.dart"})," para alternar entre ",(0,r.jsx)(n.strong,{children:"desarrollo"})," y ",(0,r.jsx)(n.strong,{children:"producci\xf3n"}),", y para distinguir si corres en ",(0,r.jsx)(n.strong,{children:"emulador"})," o ",(0,r.jsx)(n.strong,{children:"dispositivo f\xedsico"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:'class AppConfig {\n  static const bool isDevelopment = false; \n  // TRUE si trabajas en desarrollo, FALSE si es producci\xf3n\n\n  static const bool usingEmulator = false; \n  // TRUE si corres en emulador Android, FALSE si usas dispositivo f\xedsico\n\n  static String get baseUrl {\n    if (isDevelopment) {\n      return usingEmulator\n          ? "http://192.168.1.7:8080"     // Ejemplo: Emulador (IP de tu PC visible para el emulador)\n          : "http://10.26.17.154:8080";  // Ejemplo: Dispositivo f\xedsico (IP local de tu red)\n    } else {\n      return "https://clias.ucuenca.edu.ec"; // Producci\xf3n\n    }\n  }\n\n  static String get appVersion {\n    return "1.0.10"; // Incrementar en cada release\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f Ajusta las IPs seg\xfan tu red local y aseg\xfarate de que el backend est\xe9 accesible.",(0,r.jsx)(n.br,{}),"\n","\ud83d\udd10 La app ",(0,r.jsxs)(n.strong,{children:["lee ",(0,r.jsx)(n.code,{children:"appVersion"})]})," para validar compatibilidad en el login; incrementa en cada release."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Firebase (Android)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Copia ",(0,r.jsx)(n.code,{children:"google-services.json"})," en ",(0,r.jsx)(n.code,{children:"android/app/"})," (si FCM est\xe1 habilitado)."]}),"\n",(0,r.jsxs)(n.li,{children:["Aseg\xfarate de inicializar la l\xf3gica de FCM en el arranque (ver ",(0,r.jsx)(n.code,{children:"FirebaseMessagingHandler.initializeFCM()"}),")."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"variables-de-entorno-y-credenciales",children:"Variables de entorno y credenciales"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Base URL"}),": definida en ",(0,r.jsx)(n.code,{children:"AppConfig.baseUrl"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token JWT"}),": manejado en servicios y almacenado de forma segura (",(0,r.jsx)(n.strong,{children:"SecureStorage"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FCM Token"}),": registrado/actualizado contra backend tras login."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Banderas de entorno"}),": ",(0,r.jsx)(n.code,{children:"isDevelopment"}),", ",(0,r.jsx)(n.code,{children:"usingEmulator"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Versi\xf3n de app"}),": ",(0,r.jsx)(n.code,{children:"appVersion"})," en ",(0,r.jsx)(n.code,{children:"env.dart"})," (sincronizada con el ",(0,r.jsx)(n.em,{children:"release"}),")."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["No imprimir ",(0,r.jsx)(n.strong,{children:"tokens"})," ni credenciales en logs. Limitar los datos sensibles en notificaciones y payloads de red."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"compilaci\xf3n-y-empaquetado-android",children:"Compilaci\xf3n y empaquetado (Android)"}),"\n",(0,r.jsx)(n.h3,{id:"debug-r\xe1pido",children:"Debug r\xe1pido"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter run\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"apk-release",children:["APK ",(0,r.jsx)(n.em,{children:"release"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter build apk --release\n"})}),"\n",(0,r.jsx)(n.p,{children:"El binario quedar\xe1 en:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"build/app/outputs/flutter-apk/app-release.apk\n"})}),"\n",(0,r.jsx)(n.h3,{id:"firma-y-publicaci\xf3n-resumen",children:"Firma y publicaci\xf3n (resumen)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Configura ",(0,r.jsx)(n.em,{children:"signing"})," en ",(0,r.jsx)(n.code,{children:"android/app/build.gradle"})," (keystore, alias, storePassword)."]}),"\n",(0,r.jsxs)(n.li,{children:["Verifica ",(0,r.jsx)(n.code,{children:"minSdkVersion"}),"/",(0,r.jsx)(n.code,{children:"targetSdkVersion"})," y ",(0,r.jsx)(n.em,{children:"versionName"}),"/",(0,r.jsx)(n.em,{children:"versionCode"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Prueba en dispositivo f\xedsico y emulador antes de distribuir."}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Para instalaciones locales:",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.code,{children:"adb install -r build/app/outputs/flutter-apk/app-release.apk"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"checklist-de-despliegue",children:"Checklist de despliegue"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.code,{children:"AppConfig.isDevelopment"})," / ",(0,r.jsx)(n.code,{children:"usingEmulator"})," configurados correctamente."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.code,{children:"AppConfig.baseUrl"})," apunta al entorno objetivo (prod/dev)."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.code,{children:"appVersion"})," incrementada y comunicada al backend (si aplica validaci\xf3n)."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.code,{children:"google-services.json"})," presente en ",(0,r.jsx)(n.code,{children:"android/app/"})," (si FCM)."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Login, encuestas y notificaciones validadas en ",(0,r.jsx)(n.strong,{children:"foreground"}),", ",(0,r.jsx)(n.strong,{children:"background"})," y ",(0,r.jsx)(n.strong,{children:"terminated"}),"."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Errores de red manejados (offline, timeouts, 401/403)."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Resultado compilado: ",(0,r.jsx)(n.code,{children:"app-release.apk"})," verificado en dispositivo real."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"notas",children:"Notas"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Android Studio"})," solo es necesario para crear emuladores/gestionar SDK, no para compilar."]}),"\n",(0,r.jsxs)(n.li,{children:["Mant\xe9n consistencia entre ",(0,r.jsx)(n.code,{children:"appVersion"})," y la versi\xf3n comunicada a usuarios/servidor."]}),"\n",(0,r.jsxs)(n.li,{children:["Si cambias ",(0,r.jsx)(n.strong,{children:"baseUrl"}),", limpia cach\xe9 y reinstala para evitar sesiones hu\xe9rfanas."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>d});var s=i(6540);const r={},l=s.createContext(r);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);