"use strict";(self.webpackChunkclias_docs=self.webpackChunkclias_docs||[]).push([[5866],{5802:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>x,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"dev/Backend/description","title":"Backend - Introducci\xf3n","description":"---","source":"@site/docs/dev/Backend/description.md","sourceDirName":"dev/Backend","slug":"/dev/Backend/description","permalink":"/docs/dev/Backend/description","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Backend - Introducci\xf3n","sidebar_label":"Introducci\xf3n","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introducci\xf3n para Desarrolladores","permalink":"/docs/dev/intro"},"next":{"title":"Base de Datos","permalink":"/docs/dev/Backend/db"}}');var o=i(4848),r=i(8453),c=i(6406);const l={title:"Backend - Introducci\xf3n",sidebar_label:"Introducci\xf3n",sidebar_position:1},d=void 0,t={},a=[{value:"\xc1rbol de paquetes (vista l\xf3gica)",id:"\xe1rbol-de-paquetes-vista-l\xf3gica",level:2},{value:"Recursos",id:"recursos",level:2},{value:"Diagrama (Alto nivel)",id:"diagrama-alto-nivel",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h1,{id:"descripci\xf3n-general",children:"Descripci\xf3n General"}),"\n",(0,o.jsxs)(n.p,{children:["El backend de ",(0,o.jsx)(n.strong,{children:"CLIAS"})," est\xe1 construido en ",(0,o.jsx)(n.strong,{children:"Spring Boot + Kotlin"})," y sigue una arquitectura en capas (Controller \u2192 Service \u2192 Repository \u2192 Entity/DTO) con ",(0,o.jsx)(n.strong,{children:"Spring Security (JWT)"}),", ",(0,o.jsx)(n.strong,{children:"Spring Data JPA"})," y ",(0,o.jsx)(n.strong,{children:"Thymeleaf"})," para p\xe1ginas informativas m\xednimas. Soporta tareas programadas y auditor\xeda JPA."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Punto de entrada"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"RegistroApplication.kt"})," con ",(0,o.jsx)(n.code,{children:"@SpringBootApplication"}),", ",(0,o.jsx)(n.code,{children:"@EnableJpaAuditing"})," y ",(0,o.jsx)(n.code,{children:"@EnableScheduling"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Funcionalidades Actuales"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Autenticaci\xf3n y cuentas"}),": registro/login JWT, gesti\xf3n de perfiles (",(0,o.jsx)(n.code,{children:"AuthController"}),", ",(0,o.jsx)(n.code,{children:"CuentaUsuarioController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pacientes y profesionales"}),": CRUD y flujo cl\xednico b\xe1sico (",(0,o.jsx)(n.code,{children:"PacienteController"}),", ",(0,o.jsx)(n.code,{children:"MedicoController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Examen VPH"}),": registro, seguimiento y resultados (",(0,o.jsx)(n.code,{children:"ExamenVphController"}),", ",(0,o.jsx)(n.code,{children:"EvolucionController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Encuestas y datos complementarios"}),": SUS e informaci\xf3n socioecon\xf3mica (",(0,o.jsx)(n.code,{children:"EncuestaSusController"}),", ",(0,o.jsx)(n.code,{children:"InformacionSocioeconomicaController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dispositivos y estados (SISA)"}),": vinculaci\xf3n app-usuario, QR, estados y dispositivos de automuestreo registrados (",(0,o.jsx)(n.code,{children:"DispositivoAppUsuarioController"}),", ",(0,o.jsx)(n.code,{children:"DispositivoRegistradoController"}),", ",(0,o.jsx)(n.code,{children:"EstadoDispositivoController"}),", ",(0,o.jsx)(n.code,{children:"CodigoQRController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ubicaci\xf3n/Mapa"}),": captura/consulta de ubicaciones de uso de la app (",(0,o.jsx)(n.code,{children:"UbicacionController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Notificaciones"}),": env\xedo ",(0,o.jsx)(n.strong,{children:"PUSH"})," v\xeda Firebase y programaci\xf3n de notificaciones (",(0,o.jsx)(n.code,{children:"NotificacionController"}),", ",(0,o.jsx)(n.code,{children:"PushNotificationService"}),", ",(0,o.jsx)(n.code,{children:"NotificacionService"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Recursos y archivos"}),": carga/descarga y contenidos de apoyo (",(0,o.jsx)(n.code,{children:"ArchivoController"}),", ",(0,o.jsx)(n.code,{children:"RecursoController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Salud sexual"}),": contenidos y endpoints tem\xe1ticos (",(0,o.jsx)(n.code,{children:"SaludSexualController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sesi\xf3n de chat"})," (soporte/asistencia): almacenamiento/consulta de sesiones (",(0,o.jsx)(n.code,{children:"SesionChatController"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"P\xe1ginas web"}),": contenido informativo bajo Thymeleaf (",(0,o.jsx)(n.code,{children:"WebController"}),", ",(0,o.jsx)(n.code,{children:"templates/*"}),")."]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Documentaci\xf3n t\xe9cnica extensa:",(0,o.jsx)(n.br,{}),"\n","\ud83d\udc49 ",(0,o.jsx)(n.strong,{children:"DeepWiki \u2013 TelemedicinaBE"}),": ",(0,o.jsx)(n.a,{href:"https://deepwiki.com/chr1s23/TelemedicinaBE/1-overview",children:"https://deepwiki.com/chr1s23/TelemedicinaBE/1-overview"})]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h1,{id:"estructura-del-proyecto",children:"Estructura del proyecto"}),"\n",(0,o.jsx)(n.h2,{id:"\xe1rbol-de-paquetes-vista-l\xf3gica",children:"\xc1rbol de paquetes (vista l\xf3gica)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"com.crisordonez.registro"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"configuration"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"SecurityConfig"})," \u2192 reglas de seguridad, endpoints p\xfablicos/privados."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"JwtAuthenticationFilter"})," \u2192 validaci\xf3n de token y carga de usuario."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"CorsConfig"})," \u2192 or\xedgenes permitidos para web y app m\xf3vil."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"FirebaseConfig"})," \u2192 inicializaci\xf3n de SDK para notificaciones PUSH."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"AppExceptionHandler"})," \u2192 manejo unificado de errores (HTTP -> JSON)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"controller"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"AuthController"}),", ",(0,o.jsx)(n.code,{children:"CuentaUsuarioController"}),", ",(0,o.jsx)(n.code,{children:"AdministradorController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"PacienteController"}),", ",(0,o.jsx)(n.code,{children:"MedicoController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ExamenVphController"}),", ",(0,o.jsx)(n.code,{children:"EvolucionController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"EncuestaSusController"}),", ",(0,o.jsx)(n.code,{children:"InformacionSocioeconomicaController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"DispositivoAppUsuarioController"}),", ",(0,o.jsx)(n.code,{children:"DispositivoRegistradoController"}),", ",(0,o.jsx)(n.code,{children:"EstadoDispositivoController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"CodigoQRController"}),", ",(0,o.jsx)(n.code,{children:"ArchivoController"}),", ",(0,o.jsx)(n.code,{children:"RecursoController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"NotificacionController"}),", ",(0,o.jsx)(n.code,{children:"SesionChatController"}),", ",(0,o.jsx)(n.code,{children:"UbicacionController"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"PagesController/WebController"})," (p\xe1ginas Thymeleaf)"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"service"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Servicios por dominio + sus ",(0,o.jsx)(n.code,{children:"*ServiceInterface"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Notificaciones"}),": ",(0,o.jsx)(n.code,{children:"PushNotificationService"}),", ",(0,o.jsx)(n.code,{children:"NotificacionService"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Programaci\xf3n"}),": ",(0,o.jsx)(n.code,{children:"schedule/*"})," para tareas con ",(0,o.jsx)(n.code,{children:"@Scheduled"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"repository"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Repositorios Spring Data: ",(0,o.jsx)(n.code,{children:"PacienteRepository"}),", ",(0,o.jsx)(n.code,{children:"MedicoRepository"}),",\n",(0,o.jsx)(n.code,{children:"ExamenVphRepository"}),", ",(0,o.jsx)(n.code,{children:"EvolucionRepository"}),",\n",(0,o.jsx)(n.code,{children:"DispositivoAppUsuarioRepository"}),", ",(0,o.jsx)(n.code,{children:"DispositivoRegistradoRepository"}),",\n",(0,o.jsx)(n.code,{children:"EstadoDispositivoRepository"}),", ",(0,o.jsx)(n.code,{children:"UbicacionRepository"}),",\n",(0,o.jsx)(n.code,{children:"NotificacionRepository"}),", ",(0,o.jsx)(n.code,{children:"NotificacionProgramadaRepository"}),",\n",(0,o.jsx)(n.code,{children:"SesionChatRepository"}),", ",(0,o.jsx)(n.code,{children:"RecursoRepository"}),", ",(0,o.jsx)(n.code,{children:"ArchivoRepository"}),",\n",(0,o.jsx)(n.code,{children:"EncuestaSusRepository"}),", ",(0,o.jsx)(n.code,{children:"InformacionSocioeconomicaRepository"}),",\n",(0,o.jsx)(n.code,{children:"CuentaUsuarioRepository"}),", ",(0,o.jsx)(n.code,{children:"AdministradorRepository"}),", etc."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"model"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"entities/"})," \u2192 entidades JPA (tablas y relaciones)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"dtos/"})," \u2192 DTOs de entrada/salida."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"requests/"})," y ",(0,o.jsx)(n.code,{children:"responses/"})," \u2192 contratos de API."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"enums/"})," \u2192 estados y cat\xe1logos (p. ej., estados de dispositivo)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"mapper/"})," \u2192 conversi\xf3n Entity \u2194 DTO (cuando aplica)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"errors/"})," \u2192 tipos de error espec\xedficos de dominio."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"utils"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"JwtUtil"})," (firma/validaci\xf3n), ",(0,o.jsx)(n.code,{children:"MensajesNotificacion"})," (plantillas), utilidades comunes."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"RegistroApplication.kt"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"recursos",children:"Recursos"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"src/main/resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"templates/"})," (Thymeleaf): ",(0,o.jsx)(n.code,{children:"index.html"}),", ",(0,o.jsx)(n.code,{children:"proyecto.html"}),", ",(0,o.jsx)(n.code,{children:"quienes-somos.html"}),", ",(0,o.jsx)(n.code,{children:"preguntas-frecuentes.html"}),", ",(0,o.jsx)(n.code,{children:"contactos.html"}),", ",(0,o.jsx)(n.code,{children:"_fragments/*"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"static/"})," (CSS/imagenes/web), ",(0,o.jsx)(n.code,{children:"favicon.ico"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"application.properties"})," / ",(0,o.jsx)(n.code,{children:"application.yml"})]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"logback.xml"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Credenciales Firebase"})," (JSON) para FCM en entorno seguro."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"diagrama-alto-nivel",children:"Diagrama (Alto nivel)"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Regla de dise\xf1o:"})," Por cada ",(0,o.jsx)(n.strong,{children:"entidad/tabla principal"})," del dominio hay ",(0,o.jsx)(n.strong,{children:"al menos"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Un ",(0,o.jsx)(n.strong,{children:"Controller"})," (expone endpoints REST del m\xf3dulo),"]}),"\n",(0,o.jsxs)(n.li,{children:["Un ",(0,o.jsx)(n.strong,{children:"Service"})," (l\xf3gica de negocio del m\xf3dulo),"]}),"\n",(0,o.jsxs)(n.li,{children:["Un ",(0,o.jsx)(n.strong,{children:"Repository"})," (acceso a datos),"]}),"\n",(0,o.jsxs)(n.li,{children:["Y su ",(0,o.jsx)(n.strong,{children:"Entity/DTOs"})," correspondientes.",(0,o.jsx)(n.br,{}),"\n","Los endpoints se agrupan por m\xf3dulo seg\xfan la secci\xf3n ",(0,o.jsx)(n.strong,{children:"\u201cFuncionalidades actuales\u201d"})," m\xe1s arriba.",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.strong,{children:"Excepciones"}),": algunos controladores agregan varias entidades (p.ej., ",(0,o.jsx)(n.strong,{children:"Notificaciones"})," usa ",(0,o.jsx)(n.code,{children:"Notificacion"})," y ",(0,o.jsx)(n.code,{children:"NotificacionProgramada"}),"), y ",(0,o.jsx)(n.strong,{children:"WebController"})," sirve plantillas Thymeleaf (no mapea 1:1 a una sola tabla)."]}),"\n"]}),"\n"]}),"\n","\n",(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"12px 0"},children:(0,o.jsx)("div",{style:{transform:"scale(0.7)",transformOrigin:"top center"},children:(0,o.jsx)(c.A,{value:'%%{init:{\n    "flowchart": { "useMaxWidth": false }\n  }}%%\nflowchart TB\n\nA["RegistroApplication.kt<br/>@SpringBootApplication<br/>@EnableJpaAuditing<br/>@EnableScheduling"] --\x3e CTRL_ANCHOR\nsubgraph CTRL[Controller Layer]\n  CTRL_ANCHOR[Controllers]\nend\nCTRL_ANCHOR --\x3e SEC_ANCHOR\nsubgraph SEC[Security Infrastructure]\n  SEC_ANCHOR["JwtAuthenticationFilter<br/>SecurityConfig<br/>CorsConfig"]\nend\nSEC_ANCHOR --\x3e SRV_ANCHOR\nsubgraph SRV[Service Layer]\n  SRV_ANCHOR[Services]\nend\nSRV_ANCHOR --\x3e DATA_ANCHOR\nsubgraph DATA[Data Layer]\n  DATA_ANCHOR["Repositories + Entities"]\nend\nDATA_ANCHOR --\x3e DB[(PostgreSQL)]\n'})})})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);